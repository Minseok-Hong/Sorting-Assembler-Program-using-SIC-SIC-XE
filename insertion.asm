FIRST	STL	RETADR 
	LDT	#100	
MAIN	JSUB	RDREC
	LDT	LENGTH
	LDS	#1
	JSUB	SORTREC
SORTREC	CLEAR	X
	CLEAR	A
SLOOP1S	ADDR	S,X
	CLEAR	A
	LDCH	BUFFER,X
	STA	KEY               .민석
	STX	TEMPX
	LDA	TEMPX
	SUB	#1
	STA	TEMPX
	LDX	TEMPX
SLOOP2S STX	TEMP
	LDA	TEMP
	COMP	#0
	JLT	SLOOP2E
	LDCH	BUFFER,X
	CLEAR	S
	LDS	KEY
	COMPR	A,S
	JLT	SLOOP2E
	LDCH	BUFFER,X
	STCH	TEMPCH
	LDS	#1
	ADDR	S,X
	LDCH	TEMPCH
	STCH	BUFFER,X
	STX	TEMP
	LDA	TEMP
	SUB	#1
	STA	TEMP
	LDX	TEMP
	STX	TEMP
	LDA	TEMP
	SUB	#1
	STA	TEMP
	LDX	TEMP
	JSUB	SLOOP2S
SLOOP2E	STX	TEMP
	LDA	TEMP
	LDS	#1
	ADDR	S,A
	STA	TEMP
	LDX	TEMP
	LDA	KEY
	STCH	BUFFER,X
	STX	TEMP
	LDA	TEMP
	SUB	#1
	STA	TEMP
	LDX	TEMP
	LDX	TEMPX
	CLEAR	A
	LDA	KEY
	COMP	#32
	JEQ	SLOOP1E
	JSUB	SWRREC
SLOOP1E LDT	LENGTH
	TIXR	T
	JLT	SLOOP1S
	RSUB		
	

RDREC	CLEAR	X
	CLEAR	A
	LDS	EOF
RLOOP	TD	INPUT
	JEQ	RLOOP
	RD	INPUT
	COMPR	A,S
	JEQ	REXIT
	STCH	BUFFER,X	
	TIXR	T
	JLT	RLOOP
REXIT	STX	LENGTH
	LDA	LENGTH
	SUB	#1
	STA	LENGTH
	RSUB

	
SWRREC	STX	SORTX
	CLEAR	X
	LDT	LENGTH
SWLOOP	CLEAR	A
	TD	OUTPUT
	JEQ	SWLOOP
	LDCH	BUFFER,X
	COMP	SP
	JEQ	SWEXITM
	WD	OUTPUT
	LDCH	#32
	WD	OUTPUT
SWEXITM	TIXR	T	
	JLT	SWLOOP
SWEXIT	LDCH	#10
	WD	OUTPUT
	LDX	SORTX
	RSUB


WRREC	CLEAR	X
	LDT	LENGTH	
WLOOP	CLEAR	A
	TD	OUTPUT	
	JEQ	WLOOP
	LDCH	BUFFER,X
	COMP	SP
	JEQ	WEXITM
	WD	OUTPUT
	LDCH	#32
	WD	OUTPUT
WEXITM	TIXR	T	
	JLT	WLOOP
WEXIT	RSUB


ENTER	WORD	10
TEST	RESB	1
SP	WORD	32
TEMPCH	RESB	1
SORTX	RESW	1
TEMPX	RESW	1
TEMP	RESW	1
KEY	RESW	1
LENGTH	RESW	1
EOF	WORD	69
ONE	WORD	1
RETADR	RESW	1
BUFFER	RESW	4096
INPUT	BYTE	X'00'
OUTPUT	BYTE	X'01'
